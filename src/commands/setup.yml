description: >
  Install and authenticate with the Testlio CLI. This command should be run before invoking the Testlio CLI.
parameters:
  token:
    type: string
    default: "TESTLIO_RUN_API_TOKEN"
    description: |
      Enter the name of the environment variable containing the Testlio Run API token to be used for authentication.
steps:
  - install
  - run:
      name: Set the Run API token
      environment:
        RUN_API_TOKEN_ENV_NAME: << parameters.token >>
      command: "export RUN_API_TOKEN=${!RUN_API_TOKEN_ENV_NAME}"
